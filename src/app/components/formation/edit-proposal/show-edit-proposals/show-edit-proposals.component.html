@if (isVisible) {
<div data-hs-carousel='{
    "loadingClasses": "opacity-0"
  }' class="relative border shadow-sm m-1 rounded-xl h-[97%]">
    <div class="hs-carousel overflow-hidden relative w-[32rem] min-h-32 rounded-lg">
        <div class="hs-carousel-body start-0 flex flex-nowrap transition-transform duration-700 opacity-0">
            @for (blockProposal of blockProposals; track blockProposal) {
            <div class="hs-carousel-slide p-2 relative">
                @switch (blockProposal.type) {
                @case('markdown') {
                <markdown emoji katex mermaid ngPreserveWhitespaces class="variable-binding prose leading-none"
                    [data]="blockProposal.text"></markdown>
                }
                @case ('video') {
                <app-bloc-video-view [width]="'494'" [height]="'278'"
                    [videoId]="blockProposal.text"></app-bloc-video-view>
                }
                }
                <div class="absolute bottom-2 right-[44%] scale-125" (click)="acceptBlockProposal(blockProposal)">
                    <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"
                        class="bg-green-800  fill-green-400 hover:fill-green-500 rounded-full hover:cursor-pointer">
                        <path d="M0 0h24v24H0z" fill="none" />
                        <path
                            d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" />
                    </svg>
                </div>
                <div class="absolute bottom-2 left-[44%] scale-125" (click)="rejectBlockProposal(blockProposal)">
                    <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"
                        class="bg-red-800  fill-red-400 hover:fill-red-500 rounded-full hover:cursor-pointer">
                        <path d="M0 0h24v24H0z" fill="none" />
                        <path
                            d="M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z" />
                    </svg>
                </div>
            </div>
            }
        </div>
    </div>

    <button type="button z-10"
        class="hs-carousel-prev hs-carousel:disabled:opacity-50 disabled:pointer-events-none absolute inset-y-0 start-0 inline-flex justify-center items-center w-[46px] h-full text-gray-800 hover:bg-gray-800/10 rounded-s-lg dark:text-white dark:hover:bg-white/10">
        <span class="text-2xl" aria-hidden="true">
            <svg class="flex-shrink-0 size-5 text-primary filter drop-shadow-[0px_0px_4px_rgba(255,255,255,0.75)]"
                xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="m15 18-6-6 6-6"></path>
            </svg>
        </span>
        <span class="sr-only">Previous</span>
    </button>
    <button type="button z-10"
        class="hs-carousel-next hs-carousel:disabled:opacity-50 disabled:pointer-events-none absolute inset-y-0 end-0 inline-flex justify-center items-center w-[46px] h-full text-gray-800 hover:bg-gray-800/10 rounded-e-lg dark:text-white dark:hover:bg-white/10">
        <span class="sr-only">Next</span>
        <span class="text-2xl" aria-hidden="true">
            <svg class="flex-shrink-0 size-5 text-primary filter drop-shadow-[0px_0px_4px_rgba(255,255,255,0.75)]"
                xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="m9 18 6-6-6-6"></path>
            </svg>
        </span>
    </button>

</div>
}