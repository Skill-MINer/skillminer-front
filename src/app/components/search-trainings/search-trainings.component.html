<!-- Search Bar -->
<div class="relative overflow-hidden">
  <div class="max-w-[85rem] mx-auto px-4 sm:px-6 lg:px-8 pt-10 pb-2 sm:py-24">
    <div class="text-center">
      <h1
        class="text-4xl sm:text-6xl font-bold text-gray-800 dark:text-gray-200"
      >
        Training
      </h1>

      <p class="mt-3 text-gray-600 dark:text-gray-400">
        Stay in the know with insights from industry experts.
      </p>
      <div class="mt-10 sm:mt-10">
        <a
          class="m-1 py-3 px-4 hover:cursor-pointer inline-flex items-center gap-x-2 text-sm font-medium rounded-lg border border-gray-200 bg-accent text-white shadow-sm hover:bg-accent-hover disabled:opacity-50 disabled:pointer-events-none dark:bg-slate-900 dark:border-gray-700 dark:text-white dark:hover:bg-gray-800"
          (click)="addTagToSearch(tags[0])"
        >
          <svg
            class="flex-shrink-0 size-4"
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            stroke="white"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <rect width="20" height="14" x="2" y="7" rx="2" ry="2" />
            <path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16" />
          </svg>
          {{ buttonTags[0].nom }}
        </a>
        <a
          class="m-1 py-3 px-4 hover:cursor-pointer inline-flex items-center gap-x-2 text-sm font-medium rounded-lg border border-gray-200 bg-secondary text-gray-800 shadow-sm hover:bg-secondary-hover disabled:opacity-50 disabled:pointer-events-none dark:bg-slate-900 dark:border-gray-700 dark:text-white dark:hover:bg-gray-800"
          (click)="addTagToSearch(buttonTags[1])"
        >
          <svg
            class="flex-shrink-0 size-4"
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <path
              d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"
            />
            <circle cx="12" cy="12" r="3" />
          </svg>
          {{ buttonTags[1].nom }}
        </a>
        <a
          class="m-1 py-3 px-4 hover:cursor-pointer inline-flex items-center gap-x-2 text-sm font-medium rounded-lg border border-gray-200 bg-primary text-gray-800 shadow-sm hover:bg-primary-hover disabled:opacity-50 disabled:pointer-events-none dark:bg-slate-900 dark:border-gray-700 dark:text-white dark:hover:bg-gray-800"
          (click)="addTagToSearch(buttonTags[2])"
        >
          <svg
            class="flex-shrink-0 size-4"
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <path
              d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"
            />
          </svg>
          {{ buttonTags[2].nom }}
        </a>
        <a
          class="m-1 py-3 px-4 hover:cursor-pointer inline-flex items-center gap-x-2 text-sm font-medium rounded-lg border border-gray-200 bg-secondary text-gray-800 shadow-sm hover:bg-secondary-hover disabled:opacity-50 disabled:pointer-events-none dark:bg-slate-900 dark:border-gray-700 dark:text-white dark:hover:bg-gray-800"
          (click)="addTagToSearch(buttonTags[3])"
        >
          <svg
            class="flex-shrink-0 size-4"
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <path
              d="M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5"
            />
            <path d="M9 18h6" />
            <path d="M10 22h4" />
          </svg>
          {{ buttonTags[3].nom }}
        </a>
        <a
          class="m-1 py-3 px-4 hover:cursor-pointer inline-flex items-center gap-x-2 text-sm font-medium rounded-lg border border-gray-200 bg-accent text-white shadow-sm hover:bg-accent-hover disabled:opacity-50 disabled:pointer-events-none dark:bg-slate-900 dark:border-gray-700 dark:text-white dark:hover:bg-gray-800"
          (click)="addTagToSearch(buttonTags[4])"
        >
          <svg
            class="flex-shrink-0 size-4"
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            stroke="white"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <path d="M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z" />
            <path d="M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2" />
            <path d="M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2" />
            <path d="M10 6h4" />
            <path d="M10 10h4" />
            <path d="M10 14h4" />
            <path d="M10 18h4" />
          </svg>
          {{ buttonTags[4].nom }}
        </a>
        <a
          class="m-1 py-3 px-4 hover:cursor-pointer inline-flex items-center gap-x-2 text-sm font-medium rounded-lg border border-gray-200 bg-primary text-gray-800 shadow-sm hover:bg-primary-hover disabled:opacity-50 disabled:pointer-events-none dark:bg-slate-900 dark:border-gray-700 dark:text-white dark:hover:bg-gray-800"
          (click)="addTagToSearch(buttonTags[5])"
        >
          <svg
            class="flex-shrink-0 size-4"
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <path
              d="M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z"
            />
          </svg>
          {{ buttonTags[5].nom }}
        </a>
      </div>

      <div class="mt-7 sm:mt-12 mx-auto max-w-xl relative">
        <!-- Form -->
        <form>
          <div
            class="relative z-10 flex space-x-3 p-3 bg-white border rounded-full shadow-lg shadow-gray-100 dark:bg-slate-900 dark:border-gray-700 dark:shadow-gray-900/[.2]"
          >
            <div class="flex-[1_0_0%]">
              <label
                for="hs-search-article-1"
                class="block text-sm text-gray-700 font-medium dark:text-white"
                ><span class="sr-only">Search trainings</span></label
              >
              <input
                [(ngModel)]="valeurInput"
                #ctrl="ngModel"
                (input)="getFormations()"
                type="text"
                name="hs-search-article-1"
                id="hs-search-article-1"
                class="py-2.5 px-4 block w-full rounded-full focus:outline-none focus:border-white focus:ring-white focus:ring-1 dark:bg-slate-900 dark:border-transparent dark:text-gray-400 dark:focus:ring-gray-600"
                placeholder="Search trainings"
                autofocus
              />
            </div>

            <div class="flex-[0_0_auto]">
              <a
                class="size-[46px] inline-flex justify-center items-center gap-x-2 text-sm font-semibold rounded-full border border-transparent bg-secondary text-white hover:bg-secondary-hover disabled:opacity-50 disabled:pointer-events-none"
              >
                <svg
                  class="flex-shrink-0 size-5 stroke-accent"
                  xmlns="http://www.w3.org/2000/svg"
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="black"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                >
                  <circle cx="11" cy="11" r="8" />
                  <path d="m21 21-4.3-4.3" />
                </svg>
              </a>
            </div>
          </div>
        </form>
        <!-- End Form -->

        <!-- SVG Element -->
        <div
          class="hidden md:block absolute top-0 end-0 -translate-y-12 translate-x-20"
        >
          <svg
            class="w-16 h-auto text-accent"
            width="121"
            height="135"
            viewBox="0 0 121 135"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M5 16.4754C11.7688 27.4499 21.2452 57.3224 5 89.0164"
              stroke="currentColor"
              stroke-width="10"
              stroke-linecap="round"
            />
            <path
              d="M33.6761 112.104C44.6984 98.1239 74.2618 57.6776 83.4821 5"
              stroke="currentColor"
              stroke-width="10"
              stroke-linecap="round"
            />
            <path
              d="M50.5525 130C68.2064 127.495 110.731 117.541 116 78.0874"
              stroke="currentColor"
              stroke-width="10"
              stroke-linecap="round"
            />
          </svg>
        </div>
        <!-- End SVG Element -->

        <!-- SVG Element -->
        <div
          class="hidden md:block absolute bottom-0 start-0 translate-y-10 -translate-x-32"
        >
          <svg
            class="w-40 h-auto text-primary"
            width="347"
            height="188"
            viewBox="0 0 347 188"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M4 82.4591C54.7956 92.8751 30.9771 162.782 68.2065 181.385C112.642 203.59 127.943 78.57 122.161 25.5053C120.504 2.2376 93.4028 -8.11128 89.7468 25.5053C85.8633 61.2125 130.186 199.678 180.982 146.248L214.898 107.02C224.322 95.4118 242.9 79.2851 258.6 107.02C274.299 134.754 299.315 125.589 309.861 117.539L343 93.4426"
              stroke="currentColor"
              stroke-width="7"
              stroke-linecap="round"
            />
          </svg>
        </div>
        <!-- End SVG Element -->
      </div>
    </div>
  </div>
</div>
<!-- End Search Bar -->

<div class="max-w-[85rem] px-4 pb-10 pt-2 sm:px-6 lg:px-8 lg:pb-14 mx-auto">
  <div class="pb-10 flex items-center gap-5">
    <svg
      xmlns="http://www.w3.org/2000/svg"
      class="w-10 h-10 fill-accent"
      shape-rendering="geometricPrecision"
      text-rendering="geometricPrecision"
      image-rendering="optimizeQuality"
      fill-rule="evenodd"
      clip-rule="evenodd"
      viewBox="0 0 512 438.89"
    >
      <path
        d="M346.34 216.95c30.62 0 58.39 12.45 78.46 32.52 20.06 20.07 32.51 47.83 32.51 78.45 0 30.62-12.45 58.39-32.51 78.46-20.07 20.07-47.84 32.51-78.46 32.51-30.62 0-58.39-12.44-78.45-32.51-20.07-20.07-32.52-47.84-32.52-78.46 0-30.62 12.45-58.38 32.52-78.45 20.06-20.07 47.83-32.52 78.45-32.52zM99.44 46.99l69.16 81.05-18.67 16.01L80.77 63l18.67-16.01zm89.28 349.23h33.42c4.88 8.84 10.69 17.1 17.28 24.68h-75.38V239.95L12.1 61.85C5.95 53.8 2.28 45.93.78 38.73c-1.59-7.83-.71-15 2.33-21.1 3.17-6.3 8.43-11.2 15.44-14.22C24.35.97 31.37-.27 39.3.05L478.56.02c7.14.09 13.1 1.36 17.9 3.61 6.99 3.27 11.61 8.46 13.92 14.9 2.09 5.82 2.12 12.38.33 19.1-1.9 7.13-6.03 14.87-12.02 22.31l-111.42 132.2c-8.86-2.67-18.09-4.48-27.58-5.38L479.55 44.55c3.75-4.73 6.32-9.33 7.36-13.29.53-1.99.65-3.55.34-4.46-.1-.27-.51-.6-1.19-.92-1.66-.77-4.17-1.23-7.5-1.24H38.72c-4.38-.22-7.91.28-10.44 1.37-1.61.73-2.7 1.63-3.19 2.6-.59 1.16-.69 2.92-.25 5.12.77 3.65 2.94 8.06 6.71 13.04l154.17 180.69 3 8v160.76zm-4.47-249.84 24.45 28.66-18.68 16.01-24.45-28.66 18.68-16.01zm130.67 160 21.01 19.95 39.27-39.88c3.67-3.73 5.94-6.68 10.49-2.06l14.67 15.02c4.79 4.75 4.55 7.53 0 11.98l-56.08 55.12c-9.56 9.39-7.91 9.98-17.61.32l-36.46-36.24c-2-2.18-1.79-4.41.4-6.61l17.02-17.63c2.59-2.68 4.64-2.51 7.29.03z"
      />
    </svg>

    @if (!isTagsLoading) {
    <p-multiSelect
      class="w-full max-w-lg py-3 border px-3 block border-gray-200 shadow-sm rounded-lg text-sm"
      [style]="{
        width: '100%'
      }"
      display="chip"
      [maxSelectedLabels]="20"
      [options]="tags"
      optionLabel="name"
      [(ngModel)]="selectedTags"
      placeholder="Select tags..."
      (ngModelChange)="onFilterChange()"
    ></p-multiSelect>
    } @else {
    <div
      class="animate-spin p-[0.4rem] flex justify-center items-center w-2 h-2 border-4 border-current border-t-transparent text-accent rounded-full"
      role="status"
      aria-label="loading"
    >
      <span class="sr-only">Loading...</span>
    </div>
    }
  </div>

  <!-- Grid -->
  <div class="grid lg:grid-cols-2 gap-6">
    <!-- Cards-->
    @for (formation of listFormation; track formation.id) {
    <app-formation-card [formationcard]="formation"></app-formation-card>
    }@empty {
    <p>Pas de formations trouvées!</p>
    }
  </div>
</div>

<nav class="flex justify-center items-center gap-x-1 pb-8">
  <button
    type="button"
    class="min-h-[38px] min-w-[38px] py-2 px-2.5 inline-flex justify-center items-center gap-x-2 text-sm rounded-lg text-gray-800 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 disabled:opacity-50 disabled:pointer-events-none dark:text-white dark:hover:bg-white/10 dark:focus:bg-white/10"
    (click)="previousPage()"
  >
    <svg
      class="flex-shrink-0 size-3.5"
      xmlns="http://www.w3.org/2000/svg"
      width="24"
      height="24"
      viewBox="0 0 24 24"
      fill="none"
      stroke="currentColor"
      stroke-width="2"
      stroke-linecap="round"
      stroke-linejoin="round"
    >
      <path d="m15 18-6-6 6-6"></path>
    </svg>
    <span aria-hidden="true" class="sr-only">Previous</span>
  </button>
  <div class="flex items-center gap-x-1">
    <span
      class="min-h-[38px] min-w-[38px] flex justify-center items-center border border-gray-200 text-gray-800 py-2 px-3 text-sm rounded-lg focus:outline-none focus:bg-gray-50 disabled:opacity-50 disabled:pointer-events-none dark:border-neutral-700 dark:text-white dark:focus:bg-white/10"
      >{{ pageNumber + 1 }}</span
    >
    <span
      class="min-h-[38px] flex justify-center items-center text-gray-500 py-2 px-1.5 text-sm dark:text-neutral-500"
      >of</span
    >
    <span
      class="min-h-[38px] flex justify-center items-center text-gray-500 py-2 px-1.5 text-sm dark:text-neutral-500"
      >No-limit</span
    >
  </div>
  <button
    type="button"
    class="min-h-[38px] min-w-[38px] py-2 px-2.5 inline-flex justify-center items-center gap-x-2 text-sm rounded-lg text-gray-800 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 disabled:opacity-50 disabled:pointer-events-none dark:text-white dark:hover:bg-white/10 dark:focus:bg-white/10"
    (click)="nextPage()"
  >
    <span aria-hidden="true" class="sr-only">Next</span>
    <svg
      class="flex-shrink-0 size-3.5"
      xmlns="http://www.w3.org/2000/svg"
      width="24"
      height="24"
      viewBox="0 0 24 24"
      fill="none"
      stroke="currentColor"
      stroke-width="2"
      stroke-linecap="round"
      stroke-linejoin="round"
    >
      <path d="m9 18 6-6-6-6"></path>
    </svg>
  </button>
</nav>
<!-- End Pagination -->
